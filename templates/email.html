{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'styles/styles.css' %}">
    <link href='https://fonts.googleapis.com/css?family=Spartan' rel='stylesheet'>
    <script src="https://kit.fontawesome.com/c7c31fbd71.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <title></title>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js">
    </script>
    <script type="text/javascript">
    (function(){
        emailjs.init("9153C65vK_cBiMpz-");
    })();
    </script>
</head>
<body>
    <section id = "header">
        <div style="display: flex; gap:15px; align-items: center;">
            <div class="open-btn" id="open" onclick="openNav()"><i class="fa-solid fa-bars"></i></div>
            <div id="sidebar" class="sidebar">
                <a href="javascript:void(0)" class="close-btn" id="close" onclick="closeNav()">&times;</a>
                <a href="{% url 'index' %}">Home</a>
                <a href="{% url 'store' %}">Store</a>
                <a href="{% url 'about' %}">About</a>
                <a href="{% url 'contact' %}">Contact</a>
            </div>
            <a href="{% url 'index' %}"><img src="{% static 'images/logo.png' %}" class="logo"></a>
        </div>
        <div>
            <ul id="top-bar">
                <li><a href="{% url 'index' %}">Home</a></li>
                <li><a href="{% url 'store' %}">Store</a></li>
                <li><a href="{% url 'about' %}">About</a></li>
                <li><a href="{% url 'contact' %}">Contact</a></li>
                <li><a class = "active-cart" href="{% url 'cart' %}"><i class="fa-solid fa-cart-shopping"></i></a></li>
            </ul>
        </div>
    </section>
    <section id="details">
        <div id="name">
            <h4>Name:</h4>
            <input type="text" id = "nameInp" placeholder="Enter your Name" required>
        </div>
        <div id="contactNo">
            <h4>Phone No:</h4>
            <input type = "tel" id = "contactInp" pattern="[0-9]{10}" maxlength="10" placeholder="Enter your Contact No" required>
        </div>
        <div id="email">
            <h4>Email ID:</h4>
            <input type = "email" id = "emailInp" placeholder="Enter your Email" required>
        </div>
        <div id = "submit-email" onclick="sendMail()">Submit</div>
    </section>
    <script>
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        if (cart.length == 0){
            document.getElementById('cart-count').style.display = 'none';
        }
        else{
            document.getElementById('cart-count').innerHTML = cart.length;
        }
    </script>

    <script>
        function openNav() {
            document.getElementById("sidebar").style.width = "250px";
            var overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
            overlay.style.zIndex = '5';
            overlay.id = 'overlay';
            document.body.appendChild(overlay);
            document.body.style.overflow = 'hidden';
        }
          
        function closeNav() {
            document.getElementById("sidebar").style.width = "0";
            var overlay = document.getElementById('overlay');
            if (overlay) {
                overlay.parentNode.removeChild(overlay);
            }
        }
    </script>
</body>
</html>